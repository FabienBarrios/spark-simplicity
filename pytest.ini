[pytest]
# Pytest configuration for Spark Simplicity
addopts = 
    --verbose
    --cov=spark_simplicity
    --cov-report=html:htmlcov
    --cov-report=term-missing
    --cov-report=xml
    --cov-fail-under=100
    --strict-markers
    --strict-config

testpaths = tests

markers =
    unit: Unit tests for individual functions and methods
    integration: Integration tests for component interaction
    performance: Performance and resource utilization tests
    slow: Tests that take longer than 5 seconds
    mock: Tests using mocked external dependencies
    security: Security tests
    edge_case: Edge case and boundary condition tests
    error_handling: Error handling and exception tests
    configuration: Configuration validation tests
    credentials: Credential and authentication tests
    sql_injection: SQL injection security tests
    unicode: Unicode and internationalization tests
    internationalization: Internationalization and localization tests
    type_validation: Type validation and type checking tests
    scenario: Realistic scenario and usage pattern tests

# Coverage configuration
[coverage:run]
source = spark_simplicity
omit = 
    */tests/*
    */test_*
    setup.py
    */__pycache__/*
    */.*

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    if self.debug:
    if settings.DEBUG
    raise AssertionError
    raise NotImplementedError
    if 0:
    if __name__ == .__main__.:
    class .*\bProtocol\):
    @(abc\.)?abstractmethod

precision = 2
show_missing = True
skip_covered = False